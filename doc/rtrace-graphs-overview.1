.TH RTRACE-GRAPHS-OVERVIEW 1 "2010-11-03" "sp-rtrace"
.SH NAME
rtrace-graphs-overview - create overview graphs for rtrace reports
.SH SYNOPSIS
rtrace-graphs-overview <rtrace files>
.SH DESCRIPTION
\fIrtrace-graphs-overview\fP is a helper script to generate several
overview graphs of the given resource traces. Graphs include both
timelines in PNG format and a callgraph as SVG file.
.PP
By default input is expected to be an unprocessed binary resource
trace file, but in case you want to do the address resolving on
another device (with correct binaries and debug symbols), it can
also handle already processed ASCII trace files.  These won't be
post-processed or re-resolved.
.PP
If tools needed for producing the graphs or the intermediate steps are
missing, script will just provide the input files for further steps.
.SH FILES
The produced files have the same file names as input files with
following extensions appended to them:
.TP
.B -timeline.txt
data post-processed for \fIrtrace-timeline\fP use.
.TP
.B -timeline-*.png
PNG timeline graphs generated by \fIrtrace-timeline\fP with Gnuplot
about unfreed allocations total, allocation and deallocation activity,
resource lifetimes, count and total size histograms per allocation size.
.TP
.B -callgraph.txt
data post-processed and resolved for \fIrtrace-calltree\fP use.
.TP
.B -callgraph.dot
GraphViz input files generated by \fIrtrace-calltree\fP.
.TP
.B -callgraph.svg
SVG callgraph files generated by \fIdot\fP from
the \fIrtrace-calltree\fP output .dot files.  These show
a general overview of the allocations.
.PP
PNG, SVG and intermediate dot files are saved to an "overview"
subdirectory in current directory and the post-processed *.txt trace
files into same directory where the input files are (so that it's
easier to share them with \fIrtrace-graphs-function\fP script).
.PP
To re-generated above files, just remove them or the "overview"
directory and re-run the \fIrtrace-graphs-overview\fP script.
.SH DETAILS
\fIrtrace-graphs-overview\fP automatically post-processes the given
(binary or ASCII) resource trace files using the \fIsp-rtrace\fP utilities,
then generates several allocation overview statistics charts with
\fIrtrace-timeline\fP (and Gnuplot) and finally creates callgraph
overview of largest allocations with \fIrtrace-calltree\fP (and
GraphViz).
.PP
Post-processing includes merging backtraces to speed up their processing
for timeline and removing the backtraces to reduce the file size; for
callgraphs removing freed allocations and resolving the function addresses
in the backtraces.  Last one requires appropriate binaries, libraries and
their debug symbols to be present where this is done.
.PP
\fIrtrace-graphs-overview\fP gives \fIrtrace-calltree\fP options which
should create reasonable graphs even for very complicated programs.
If you want to see more details, use either \fIrtrace-graphs-function\fP
or just call \fIrtrace-calltree\fP (and \fIdot\fP) with options suitably
modified from the ones (shown to be) used by this script.
To get more details from \fIrtrace-timeline\fP graphs, use --scalex
option for histograms and --filter option(s) for other graphs.
.PP
Intermediate files aren't removed so that you can do this kind of
fine-tuned processing on them and also to be able to do the resolving
on a target device with all the debug symbols and then moving the
generated files to PC where you re-run the script to get generate
graphs.
.SH SEE ALSO
.IR rtrace-rename (1),
.IR sp-rtrace-resolve (1),
.IR sp-rtrace-postproc (1),
.IR rtrace-graphs-function (1),
.IR rtrace-timeline (1),
.IR rtrace-calltree (1),
.IR gnuplot (1),
.IR dot (1)
.SH COPYRIGHT
Copyright (C) 2007,2010 Nokia Corporation.
.PP
This is free software.  You may redistribute copies of it under the
terms of the GNU General Public License v2 included with the software.
There is NO WARRANTY, to the extent permitted by law.
